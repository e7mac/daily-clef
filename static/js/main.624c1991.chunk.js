/*! For license information please see main.624c1991.chunk.js.LICENSE.txt */
(this["webpackJsonpdaily-clef"]=this["webpackJsonpdaily-clef"]||[]).push([[0],{163:function(A,e,t){var a;a=function(){return function(A){var e={};function t(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return A[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=A,t.c=e,t.d=function(A,e,a){t.o(A,e)||Object.defineProperty(A,e,{enumerable:!0,get:a})},t.r=function(A){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(A,"__esModule",{value:!0})},t.t=function(A,e){if(1&e&&(A=t(A)),8&e)return A;if(4&e&&"object"===typeof A&&A&&A.__esModule)return A;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:A}),2&e&&"string"!=typeof A)for(var n in A)t.d(a,n,function(e){return A[e]}.bind(null,n));return a},t.n=function(A){var e=A&&A.__esModule?function(){return A.default}:function(){return A};return t.d(e,"a",e),e},t.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)},t.p="",t(t.s=0)}([function(A,e,t){var a=function(){function A(A,e){for(var t=0;t<e.length;t++){var a=e[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(A,a.key,a)}}return function(e,t,a){return t&&A(e.prototype,t),a&&A(e,a),e}}(),n=t(1),i=n.webm,r=n.mp4,o=function(){return"undefined"!==typeof navigator&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream},s=function(){return"wakeLock"in navigator},c=function(){function A(){var e=this;if(function(A,e){if(!(A instanceof e))throw new TypeError("Cannot call a class as a function")}(this,A),this.enabled=!1,s()){this._wakeLock=null;var t=function(){null!==e._wakeLock&&"visible"===document.visibilityState&&e.enable()};document.addEventListener("visibilitychange",t),document.addEventListener("fullscreenchange",t)}else o()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",i),this._addSourceToVideo(this.noSleepVideo,"mp4",r),this.noSleepVideo.addEventListener("loadedmetadata",(function(){e.noSleepVideo.duration<=1?e.noSleepVideo.setAttribute("loop",""):e.noSleepVideo.addEventListener("timeupdate",(function(){e.noSleepVideo.currentTime>.5&&(e.noSleepVideo.currentTime=Math.random())}))})))}return a(A,[{key:"_addSourceToVideo",value:function(A,e,t){var a=document.createElement("source");a.src=t,a.type="video/"+e,A.appendChild(a)}},{key:"enable",value:function(){var A=this;return s()?navigator.wakeLock.request("screen").then((function(e){A._wakeLock=e,A.enabled=!0,console.log("Wake Lock active."),A._wakeLock.addEventListener("release",(function(){console.log("Wake Lock released.")}))})).catch((function(e){throw A.enabled=!1,console.error(e.name+", "+e.message),e})):o()?(this.disable(),console.warn("\n        NoSleep enabled for older iOS devices. This can interrupt\n        active or long-running network requests from completing successfully.\n        See https://github.com/richtr/NoSleep.js/issues/15 for more details.\n      "),this.noSleepTimer=window.setInterval((function(){document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))}),15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then((function(e){return A.enabled=!0,e})).catch((function(e){throw A.enabled=!1,e}))}},{key:"disable",value:function(){s()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):o()?this.noSleepTimer&&(console.warn("\n          NoSleep now disabled for older iOS devices.\n        "),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}},{key:"isEnabled",get:function(){return this.enabled}}]),A}();A.exports=c},function(A,e,t){A.exports={webm:"data:video/webm;base64,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",mp4:"data:video/mp4;base64,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"}}])},A.exports=a()},251:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Clip}));var _home_travis_build_e7mac_daily_clef_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(34),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__),react_bootstrap__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(478),react_bootstrap__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(278),react_bootstrap__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42),react_bootstrap__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(63),react_bootstrap__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(199),_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(37),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(36),react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__),_utils_TimeFormatUtils__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(31),_ClipDelete__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(252),_ClipEdit__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(277),_Tempo__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(255);function Clip(props){var _useState=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)(!1),_useState2=Object(_home_travis_build_e7mac_daily_clef_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState,2),editable=_useState2[0],setEditable=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_9__.useState)(!1),_useState4=Object(_home_travis_build_e7mac_daily_clef_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(_useState3,2),editing=_useState4[0],setEditing=_useState4[1];Object(react__WEBPACK_IMPORTED_MODULE_9__.useEffect)((function(){props.api.demo||props.api.getUser().then((function(A){null!==A&&setEditable(A.id===props.clip.user)})),null===props.clip.label&&setEditing(!0)}),[props.api,props.clip.label,props.clip.user]);var playURL=function playURL(){props.onPlay(props.clip),eval("Tone.start()")},toggleEditing=function(){setEditing(!editing)};return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_2__.a,{style:props.playingItem===props.clip?{background:"#dcedc8"}:{},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:props.clip.favorite?Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__.j}):" "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"dark",onClick:playURL,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__.f})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:_utils_TimeFormatUtils__WEBPACK_IMPORTED_MODULE_10__.b(props.clip.duration)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:props.clip.key}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:[props.clip.tempo,"bpm"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:_utils_TimeFormatUtils__WEBPACK_IMPORTED_MODULE_10__.c(props.clip.date_played)}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:["LH:",props.clip.left_avg_velocity]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:["RH:",props.clip.right_avg_velocity]}),editable&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"light",onClick:toggleEditing,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_8__.a,{icon:_fortawesome_free_solid_svg_icons__WEBPACK_IMPORTED_MODULE_7__.d})})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ClipDelete__WEBPACK_IMPORTED_MODULE_11__.a,{clip:props.clip,api:props.api})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_Tempo__WEBPACK_IMPORTED_MODULE_13__.a,{clip_id:props.clip.id,api:props.api})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{sm:"auto",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("a",{href:"https://e7mac.github.io/MIDIano/?url=".concat(props.clip.url),target:"_blank",rel:"noopener noreferrer",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_5__.a,{variant:"link",children:"Synthesia"})})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_6__.a,{in:editing,children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_3__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_bootstrap__WEBPACK_IMPORTED_MODULE_4__.a,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"item",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_ClipEdit__WEBPACK_IMPORTED_MODULE_12__.a,{clip:props.clip,api:props.api,onRelabel:props.onRelabel})})})})})]})})}},252:function(A,e,t){"use strict";t.d(e,"a",(function(){return h}));var a=t(15),n=t(16),i=t(22),r=t(23),o=t(2),s=t(63),c=t(37),l=t(36),u=t(0),d=t.n(u),h=(t(305),function(A){Object(i.a)(t,A);var e=Object(r.a)(t);function t(A){var n;return Object(a.a)(this,t),(n=e.call(this,A)).deleteClip=function(){n.state.confirmation?n.props.api.deleteClip(n.props.clip.id).then((function(){n.setState({deleted:!0})})):(n.setState({confirmation:!0}),setTimeout((function(){document.addEventListener("click",n.handleOutsideClick)}),100))},n.handleOutsideClick=function(A){null!==n.deleteButton.current&&(n.deleteButton.current.contains(A.target)||(n.setState({confirmation:!1}),document.removeEventListener("click",n.handleOutsideClick)))},n.state={confirmation:!1,deleted:!1},n.deleteButton=d.a.createRef(),n}return Object(n.a)(t,[{key:"render",value:function(){return Object(o.jsx)(d.a.Fragment,{children:this.state.deleted?"Deleted. Refresh as needed":this.state.confirmation?Object(o.jsx)(s.a,{variant:"danger",onClick:this.deleteClip,ref:this.deleteButton,children:"Sure?"}):Object(o.jsx)(s.a,{variant:"light",onClick:this.deleteClip,ref:this.deleteButton,children:Object(o.jsx)(l.a,{icon:c.k})})})}}]),t}(d.a.Component))},255:function(A,e,t){"use strict";t.d(e,"a",(function(){return b}));var a=t(15),n=t(16),i=t(22),r=t(23),o=t(2),s=t(63),c=t(479),l=t(480),u=t(123),d=t(124),h=t(131),p=t(198),_=t(0),m=t.n(_),g=t(31),b=function(A){Object(i.a)(t,A);var e=Object(r.a)(t);function t(A){var n;return Object(a.a)(this,t),(n=e.call(this,A)).fn=function(){n.setState({loading:!0}),n.props.api.getTempo(n.state.clip_id).then((function(A){var e=[],t=A.data.duration/A.data.tempo_curve.length;for(var a in A.data.tempo_curve){var i=t*a;e.push(i)}n.setState({success:!0,loading:!1,data:A.data,tempo_curve:A.data.tempo_curve,time:e})}))},n.state={success:!1,loading:!1,clip_id:A.clip_id,data:{duration:0,tempo_curve:[0]}},n}return Object(n.a)(t,[{key:"render",value:function(){for(var A=[],e=this.state.data.duration/this.state.data.tempo_curve.length,t=0;t<this.state.data.tempo_curve.length;t++){var a=this.state.data.tempo_curve[t];A.push({time:g.b(Math.floor(t*e)),tempo:Math.floor(a)})}return Object(o.jsx)(o.Fragment,{children:this.state.success?Object(o.jsxs)(c.a,{width:300,height:300,data:A,margin:{top:5,right:30,left:20,bottom:5},children:[Object(o.jsx)(l.a,{strokeDasharray:"3 3"}),Object(o.jsx)(u.a,{dataKey:"time"}),Object(o.jsx)(d.a,{}),Object(o.jsx)(h.a,{}),Object(o.jsx)(p.a,{type:"monotone",dataKey:"tempo",stroke:"#82ca9d",dot:!1,unit:"bpm"})]}):Object(o.jsx)(s.a,{variant:"light",disabled:this.state.loading,onClick:this.fn,children:this.state.loading?"Loading\u2026":"Tempo"})})}}]),t}(m.a.Component)},277:function(A,e,t){"use strict";t.d(e,"a",(function(){return O}));var a=t(15),n=t(16),i=t(22),r=t(23),o=t(2),s=t(478),c=t(278),l=t(42),u=t(487),d=t(488),h=t(64),p=t(499),_=t(0),m=t.n(_),g=t(63),b=t(272),j=function(A){Object(i.a)(t,A);var e=Object(r.a)(t);function t(A){var n;return Object(a.a)(this,t),(n=e.call(this,A)).relabelItem=function(){var A=n.labelRef.current.getInput().value;console.log(A),null!==n.relabelTimer&&clearTimeout(n.relabelTimer),n.props.api.relabelItem(n.props.clip.id,A).then((function(A){n.setState({success:!0})}))},n.state={success:!1,options:[]},n.labelRef=m.a.createRef(),n.relabelTimer=null,n}return Object(n.a)(t,[{key:"componentDidMount",value:function(){var A=this;this.props.api.loadLabels().then((function(e){A.setState({options:e})}))}},{key:"render",value:function(){var A=this.props.clip.label?this.props.clip.label.name:"";return Object(o.jsx)("span",{id:"div-relabel-".concat(this.props.clip.id),children:this.state.success?" Done! Refresh to see results":Object(o.jsxs)("span",{children:[Object(o.jsx)(b.a,{ref:this.labelRef,placeholder:"Add Label",defaultInputValue:A,id:"relabel",labelKey:"name",options:this.state.options}),Object(o.jsx)(g.a,{variant:"light",onClick:this.relabelItem,children:"Relabel"})]})})}}]),t}(m.a.Component),O=(t(323),function(A){Object(i.a)(t,A);var e=Object(r.a)(t);function t(A){var n;return Object(a.a)(this,t),(n=e.call(this,A)).editClip=function(A){console.log(A),n.props.api.editClip(n.props.clip.id,A)},n.changeSightReading=function(){n.editClip({sight_reading:!n.state.sight_reading}),n.setState({sight_reading:!n.state.sight_reading})},n.changeFavorite=function(){n.editClip({favorite:!n.state.favorite}),n.setState({favorite:!n.state.favorite})},n.changeTechnical=function(){n.editClip({technical:!n.state.technical}),n.setState({technical:!n.state.technical})},n.changeNotes=function(A){var e=A.target.value;n.setState({notes:e}),null!==n.notesTimer&&clearTimeout(n.notesTimer),n.notesTimer=setTimeout((function(){var A=n.state.notes;n.editClip({notes:A})}),2e3)},n.changeStage=function(A,e){n.editClip({learning_stage:A})},n.onRelabel=function(){n.props.onRelabel()},n.state={sight_reading:A.clip.sight_reading,technical:A.clip.technical,favorite:A.clip.favorite,notes:A.clip.notes},n.notesTimer=null,n.stages=["Notes","Rhythm","Articulation","Pedaling","Voicing","Dynamics","Rubato","Tempo"],n}return Object(n.a)(t,[{key:"render",value:function(){return Object(o.jsxs)(s.a,{className:"panel-body",children:[Object(o.jsxs)(c.a,{children:[Object(o.jsx)(l.a,{sm:"auto",children:Object(o.jsxs)(u.a,{toggle:!0,className:"mb-2",children:[Object(o.jsx)(d.a,{type:"checkbox",variant:"light",checked:this.state.sight_reading,onChange:this.changeSightReading,children:"Sight Reading"}),Object(o.jsx)(d.a,{type:"checkbox",variant:"light",checked:this.state.technical,onChange:this.changeTechnical,children:"Technical"}),Object(o.jsx)(d.a,{type:"checkbox",variant:"light",checked:this.state.favorite,onChange:this.changeFavorite,children:"Favorite"})]})}),Object(o.jsx)(l.a,{sm:"auto",children:Object(o.jsx)(j,{api:this.props.api,clip:this.props.clip,onRelabel:this.onRelabel})}),Object(o.jsx)(l.a,{sm:"auto",children:Object(o.jsxs)(h.a,{drop:"left",onSelect:this.changeStage,children:[Object(o.jsx)(h.a.Toggle,{variant:"light",id:"dropdown-basic",children:null!==this.props.clip.learning_stage?this.stages[this.props.clip.learning_stage]:"pick stage"}),Object(o.jsx)(h.a.Menu,{children:this.stages.map((function(A,e){return Object(o.jsx)(h.a.Item,{eventKey:e,children:A})}))})]})})]}),Object(o.jsx)(c.a,{children:Object(o.jsx)(p.a.Control,{type:"text",as:"textarea",placeholder:"Add Notes",value:this.state.notes,onChange:this.changeNotes})})]})}}]),t}(m.a.Component))},290:function(A,e,t){},291:function(A,e,t){},305:function(A,e,t){},31:function(A,e,t){"use strict";t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return n})),t.d(e,"b",(function(){return i}));var a=function(A){return new Date(A).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",timeZone:"America/Los_Angeles"})},n=function(A){return function(A){return new Date(A).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",timeZone:"America/Los_Angeles"})}(A)+" - "+a(A)};function i(A){var e=Math.floor(A/60/60);A%=3600;var t=Math.floor(A/60),a=A%60,n=t<10?"0":"";return n=(e>0?e+":":"")+n+t+":"+(a<10?"0":""),n+=a}},323:function(A,e,t){},456:function(A,e,t){},457:function(A,e,t){},460:function(A,e,t){},476:function(A,e,t){},477:function(A,e,t){"use strict";t.r(e);var a=t(2),n=t(0),i=t.n(n),r=t(43),o=t.n(r),s=(t(290),t(15)),c=t(16),l=t(82),u=t(22),d=t(23),h=t(478),p=t(199),_=t(502),m=t(494),g=t(30),b=t(34),j=t(278),O=t(486),f=t(503),E=t(63),C=t(105),v=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(){var A;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(A=e.call.apply(e,[this].concat(n))).state={username:"",password:""},A.handle_login=function(e,t){e.preventDefault(),A.props.api.handle_login(t).then((function(A){window.location.reload()}))},A.handle_change=function(e){var t=e.target.name,a=e.target.value;A.setState((function(A){var e=Object(C.a)({},A);return e[t]=a,e}))},A}return Object(c.a)(t,[{key:"render",value:function(){var A=this;return Object(a.jsxs)("form",{onSubmit:function(e){return A.handle_login(e,A.state)},children:[Object(a.jsx)("h4",{children:"Log In"}),Object(a.jsx)("label",{htmlFor:"username",children:"Username "}),Object(a.jsx)("input",{type:"text",name:"username",autoCapitalize:"none",value:this.state.username,onChange:this.handle_change}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"password",children:"Password "}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"submit",value:"Log in"})]})}}]),t}(i.a.Component),B=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(){var A;Object(s.a)(this,t);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(A=e.call.apply(e,[this].concat(n))).state={username:"",password:""},A.handle_signup=function(e,t){e.preventDefault(),fetch("https://midi-practice.herokuapp.com/api/users/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){A.props.api.handle_login(t).then((function(A){window.location.reload()}))}))},A.handle_change=function(e){var t=e.target.name,a=e.target.value;A.setState((function(A){var e=Object(C.a)({},A);return e[t]=a,e}))},A}return Object(c.a)(t,[{key:"render",value:function(){var A=this;return Object(a.jsxs)("form",{onSubmit:function(e){return A.handle_signup(e,A.state)},children:[Object(a.jsx)("h4",{children:"Sign Up"}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"username",children:"Username"}),Object(a.jsx)("input",{type:"text",name:"username",value:this.state.username,onChange:this.handle_change}),Object(a.jsx)("br",{}),Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",name:"password",value:this.state.password,onChange:this.handle_change}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"submit",value:"Sign Up"})]})}}]),t}(i.a.Component);function I(A){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),i=t[0],r=t[1];return Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{flex:!0,className:"value-prop",children:Object(a.jsx)(j.a,{auto:!0,children:Object(a.jsxs)(O.a,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsx)("h3",{children:"Supercharge your practice sessions"}),Object(a.jsxs)("h5",{children:[Object(a.jsx)("p",{children:" Daily Clef helps you get the most out of your practice sessions with automated track logging and intelligent music classification "}),Object(a.jsx)("p",{children:" Just hit record "}),Object(a.jsx)("p",{children:" Intelligent Recognition "}),Object(a.jsx)("p",{children:" Visualized progress "})]})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(E.a,{variant:"secondary",onClick:function(){r(!i)},children:i?"Login to existing account":"Create new account"}),i?Object(a.jsx)(B,{api:A.api}):Object(a.jsx)(v,{api:A.api})]})]})})})})}t(291);var x=t(71),k=t(492),y=t(249),D=t.n(y),M=t(21),w=t(250),T=t.n(w),S=(t(302),function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).onDayClick=function(A){console.log(A);var e=new Date(A.getTime());e.setDate(e.getDate()+1);var t=A.getTime()/1e3,n=e.getTime()/1e3;a.props.onTimeChanged(t,n)},a.onMonthChange=function(A){var e=new Date(A.getTime());e.setMonth(e.getMonth()+1);var t=A.getTime()/1e3,n=e.getTime()/1e3;a.props.onTimeChanged(t,n),a.props.api.loadRawSessionFiles(t,n).then((function(e){var t,n=[],i=Object(M.a)(e);try{for(i.s();!(t=i.n()).done;){var r=t.value;n.push(new Date(r.date_played))}}catch(o){i.e(o)}finally{i.f()}a.setState({selectedDays:n,initialMonth:A})}))},a.state={selectedDays:[],initialMonth:new Date},a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var A=this;this.props.api.loadRawSessionFiles().then((function(e){var t,a=[],n=Object(M.a)(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;a.push(new Date(i.date_played))}}catch(r){n.e(r)}finally{n.f()}A.setState({selectedDays:a})}))}},{key:"render",value:function(){return Object(a.jsx)(f.a,{children:Object(a.jsx)(T.a,{onDayClick:this.onDayClick,selectedDays:this.state.selectedDays,onMonthChange:this.onMonthChange,initialMonth:this.state.initialMonth})})}}]),t}(i.a.Component)),P=t(31),Q=t(504),R=t(251);t(456);function L(A){var e=Object(n.useState)(!1),t=Object(b.a)(e,2),i=t[0],r=t[1],o=0;return A.group.clips.forEach((function(A){o+=A.duration})),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{onClick:function(){return r(!i)},className:"clip-group-name-label",children:"".concat(A.group.name," (").concat(Object(P.b)(o),")")}),Object(a.jsx)(p.a,{in:i,children:Object(a.jsx)(Q.a,{children:A.group.clips.map((function(e,t){return Object(a.jsx)(Q.a.Item,{children:Object(a.jsx)(R.a,{api:A.api,clip:e,onRelabel:A.onRelabel,onPlay:A.onPlay,playingItem:A.playingItem},e.id)})}))})})]})}t(457);function U(A){var e=0;return A.set.groups.forEach((function(A){A.clips.forEach((function(A){e+=A.duration}))})),Object(a.jsxs)("div",{children:[Object(a.jsx)("h5",{children:"".concat(A.set.title," (").concat(P.b(e),")")}),A.set.groups.map((function(e,t){return Object(a.jsx)(L,{api:A.api,group:e,onRelabel:A.onRelabel,onPlay:A.onPlay,playingItem:A.playingItem},e.name)}))]})}var W=function(){function A(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(s.a)(this,A),this.path=t,this.itemsPromise=null,this.hasMore=!0,this.items=[],this.api=e,this.searchParams=a}return Object(c.a)(A,[{key:"loadItems",value:function(){return null!==this.path&&null===this.itemsPromise&&this.makeApiCall(),this.itemsPromise}},{key:"loadMoreItems",value:function(){return null!==this.path&&this.hasMore&&this.makeApiCall(),this.itemsPromise}},{key:"makeApiCall",value:function(){var A=this;this.itemsPromise=this.api.apiCall(this.path,{method:"GET"},this.searchParams).then((function(e){if(A.items=A.items.concat(e.results),A.hasMore=null!==e.next,A.path=null,e.next){var t=new URL(e.next);A.path="".concat(t.pathname).concat(t.search)}return A.items})).catch((function(A){return console.log("error: "+A)}))}}]),A}(),F=function(){function A(e){Object(s.a)(this,A),this.hasMore=!0,this.modelGetter=new W(e,"/api/midiclips/")}return Object(c.a)(A,[{key:"loadClips",value:function(){var A=this;return this.modelGetter.loadItems().then((function(e){var t=A.createSessions(e),a=A.transform(t);return A.hasMore=A.modelGetter.hasMore,a}))}},{key:"loadMoreClips",value:function(){var A=this;return this.modelGetter.loadMoreItems().then((function(e){var t=A.createSessions(e),a=A.transform(t);return A.hasMore=A.modelGetter.hasMore,a}))}},{key:"label",value:function(A){return null===A.label?!0===A.sight_reading?"Sight Reading":!0===A.technical?"Technical":"No Label":A.label.name}},{key:"create_json_format_for_labelclips",value:function(A){var e=[];for(var t in A){var a={name:t,clips:A[t]};e.push(a)}return e}},{key:"earliestTime",value:function(A){var e=Date.now();for(var t in A){var a,n=A[t],i=Object(M.a)(n);try{for(i.s();!(a=i.n()).done;){var r=a.value;new Date(r.date_played)<new Date(e)&&(e=r.date_played)}}catch(o){i.e(o)}finally{i.f()}}return e}},{key:"isEmptyObject",value:function(A){for(var e in A)if(Object.prototype.hasOwnProperty.call(A,e))return!1;return!0}},{key:"createSessions",value:function(A){var e,t=A,a=null,n={},i=[],r={},o=Object(M.a)(t);try{for(o.s();!(e=o.n()).done;){var s=e.value;null===s.title&&(s.title=""),null===s.notes&&(s.notes=""),a===s.run.id||this.isEmptyObject(n)?(a=s.run.id,this.label(s)in n||(n[this.label(s)]=[]),n[this.label(s)].push(s)):(a=s.run.id,r={time:this.earliestTime(n),labels:this.create_json_format_for_labelclips(n)},i.push(r),(n={})[this.label(s)]=[],n[this.label(s)].push(s))}}catch(c){o.e(c)}finally{o.f()}return this.isEmptyObject(n)||(r={time:this.earliestTime(n),labels:this.create_json_format_for_labelclips(n)},i.push(r)),i}},{key:"combineGroups",value:function(A,e){for(var t={},a=0,n=[A,e];a<n.length;a++){var i,r=n[a],o=Object(M.a)(r);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.name;t[c]||(t[c]=[]),t[c]=t[c].concat(s.clips)}}catch(d){o.e(d)}finally{o.f()}}var l=[];for(var u in t)l.push({name:u,clips:t[u]});return l}},{key:"transform",value:function(A){var e=[],t=new Date(2100,1,1,0,0,0,0);for(var a in A){var n=A[a],i=new Date(n.time);if((t.getTime()-i.getTime())/1e3<21600){var r=e[e.length-1],o=this.combineGroups(r.groups,n.labels),s={title:P.a(n.time),date:n.time,groups:o};e[e.length-1]=s}else{var c={title:P.a(n.time),date:n.time,groups:n.labels};e.push(c)}t=i}return e}}]),A}(),Z=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;Object(s.a)(this,t),(a=e.call(this,A)).getLabelFromPath=function(){var A=Object(g.e)(window.location.hash,{path:"#/label/:label",exact:!1,strict:!1}),e=null;return null!==A&&void 0!==A&&null!==A.params.label&&(e=A.params.label),e},a.loadClipsForLabel=function(A){a.props.api.loadClipsForLabel(A)},a.loadAllClips=function(A){a.props.api.resetLoadClips()},a.loadClips=function(){a.props.api.clipGetter.loadMoreClips().then((function(A){a.setState({items:A,hasMore:a.props.api.clipGetter.hasMore})}))},a.onTimeChanged=function(A,e){a.props.api.clipGetter=new F(a.props.api);var t={start_time:A,end_time:e};a.state.label&&(t.label=a.state.label),a.props.api.clipGetter.modelGetter.searchParams=t,a.setState({items:[],hasMore:!0})};var n=a.getLabelFromPath();return a.state={items:[],hasMore:!0,label:n},null!=n&&a.loadClipsForLabel(n),a}return Object(c.a)(t,[{key:"componentDidUpdate",value:function(A,e){var t=this.getLabelFromPath();t!==this.state.label&&(console.log("label change"),this.setState({items:[],hasMore:!0,label:t}),null===t?this.loadAllClips():this.loadClipsForLabel(t))}},{key:"render",value:function(){var A=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(S,{api:this.props.api,onTimeChanged:this.onTimeChanged}),Object(a.jsx)(D.a,{threshold:0,pageStart:0,loadMore:this.loadClips,hasMore:this.state.hasMore,loader:Object(a.jsxs)(f.a,{children:[" ",Object(a.jsx)(k.a,{animation:"border",variant:"secondary"})]}),children:this.state.items.map((function(e,t){return Object(a.jsx)(f.a,{children:Object(a.jsx)(U,{api:A.props.api,set:e,onPlay:A.props.onPlay,onRelabel:A.props.onRelabel,playingItem:A.props.playingItem},e.title)})}))})]})}}]),t}(i.a.Component),K=t(495),G=t(37),V=t(36),Y=t(493),J=(t(460),function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).state={labels:[]},a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var A=this;this.props.api.loadLabels().then((function(e){A.setState({labels:e})}))}},{key:"openLabel",value:function(A){console.log(A);var e=A.target.id.split("label-id-")[1];window.location.hash="#/label/".concat(e)}},{key:"openAll",value:function(){window.location.hash="#"}},{key:"render",value:function(){var A=this;return Object(a.jsxs)(Y.a,{title:"Pieces",id:"basic-nav-dropdown",children:[Object(a.jsx)(Y.a.Item,{onClick:this.openAll,children:"All"}),Object(a.jsx)(Y.a.Divider,{}),this.state.labels.length>0?this.state.labels.map((function(e,t){return Object(a.jsx)(Y.a.Item,{onClick:A.openLabel,id:"label-id-".concat(e.name),children:e.name})})):Object(a.jsx)(Y.a.Item,{children:"As you label pieces, they will appear here"})]})}}]),t}(i.a.Component)),X=t(498),q=t(499),N=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).handleClose=function(){return a.setState({show:!1})},a.handleShow=function(){a.setState({show:!0}),a.props.api.getSettings().then((function(A){a.setState({loading:!1,threshold:A.threshold,min_length:A.min_length}),console.log(A)}))},a.save=function(){console.log(a.state),a.props.api.setSettings({threshold:a.state.threshold,min_length:a.state.min_length}).then((function(A){console.log(A),a.handleClose()}))},a.state={show:!1,loading:!0,threshold:null,min_length:null},a}return Object(c.a)(t,[{key:"render",value:function(){var A=this;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(E.a,{variant:"secondary",onClick:this.handleShow,children:Object(a.jsx)(V.a,{icon:G.c})}),Object(a.jsxs)(X.a,{show:this.state.show,onHide:this.handleClose,children:[Object(a.jsx)(X.a.Header,{closeButton:!0,children:Object(a.jsx)(X.a.Title,{children:"Settings"})}),Object(a.jsx)(X.a.Body,{children:this.state.loading?"Loading...":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(q.a.Group,{controlId:"threshold",children:[Object(a.jsx)(q.a.Label,{children:"Threshold"}),Object(a.jsx)(q.a.Control,{type:"text",placeholder:"Enter threshold",value:this.state.threshold,onChange:function(e){return A.setState({threshold:e.target.value})}}),Object(a.jsx)(q.a.Text,{className:"text-muted",children:"How many seconds of silence before creating a new clip"})]}),Object(a.jsxs)(q.a.Group,{controlId:"Min Length",children:[Object(a.jsx)(q.a.Label,{children:"Min Length"}),Object(a.jsx)(q.a.Control,{type:"text",placeholder:"Enter minimum length",value:this.state.min_length,onChange:function(e){return A.setState({min_length:e.target.value})}}),Object(a.jsx)(q.a.Text,{className:"text-muted",children:"How many seconds of sound that qualifies as a clip"})]})]})}),Object(a.jsxs)(X.a.Footer,{children:[Object(a.jsx)(E.a,{variant:"secondary",onClick:this.handleClose,children:"Close"}),Object(a.jsx)(E.a,{variant:"primary",onClick:this.save,children:"Save"})]})]})]})}}]),t}(i.a.Component);function H(A){var e=Object(n.useRef)(null);return Object(a.jsxs)("span",{children:[Object(a.jsx)(q.a,{hidden:!0,children:Object(a.jsx)(q.a.Group,{children:Object(a.jsx)(q.a.File,{onChange:function(t){var a,n=e.current,i=n.files,r=Object(M.a)(i);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=Math.floor(o.lastModified/1e3);A.setStatus("Uploading..."),A.api.uploadFileFlow(o,s).then((function(){n.value="",A.setStatus("\u2705 Uploaded")}))}}catch(c){r.e(c)}finally{r.f()}},ref:e,accept:"audio/*, video/*"})})}),Object(a.jsx)(E.a,{variant:"outline-success",onClick:function(A){e.current.click()},children:Object(a.jsx)(V.a,{icon:G.b})})]})}var z=t.p+"static/media/logo.6c50fd24.svg",$=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).startTimer=function(){a.timer=setInterval(a.refreshStatus,3e3)},a.endTimer=function(){clearInterval(a.timer),a.timer=null},a.refreshStatus=function(){a.props.api.getStatus().then((function(A){console.log(A);var e=A.response,t=(e.conversion_tasks>0?" Converting ":"")+(e.transcription_tasks>0?" Transcribing ":"")+(e.segmentation_tasks>0?" Segmenting ":"")+(e.classification_tasks>0?" Classifying ":"");t.length>0&&a.setState({status:t})}))},a.handle_logout=function(){a.endTimer(),a.props.api.handle_logout(),a.setState({logged_in:!1,username:""}),window.location.reload()},a.setStatus=function(A){a.setState({status:A})},a.state={logged_in:!!localStorage.getItem("token"),username:"",status:""},a.timer=null,a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.state.logged_in&&!this.props.api.demo&&this.startTimer()}},{key:"componentWillUnmount",value:function(){this.endTimer()}},{key:"render",value:function(){return Object(a.jsxs)(_.a,{bg:"dark",variant:"dark",expand:"sm",className:"panel-body",children:[Object(a.jsx)(x.b,{to:"/",children:Object(a.jsxs)(_.a.Brand,{className:"brand",children:[Object(a.jsx)("img",{src:z,className:"logo",alt:"logo"}),"Daily Clef"]})}),Object(a.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:this.state.logged_in||this.props.api.demo?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(m.a,{className:"mr-auto",children:[this.state.logged_in?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(H,{api:this.props.api,setStatus:this.setStatus}),Object(a.jsx)(m.a.Link,{href:"#record",children:Object(a.jsx)(V.a,{icon:G.e})})]}):"",Object(a.jsx)(J,{api:this.props.api,loadAllClips:this.loadAllClips,loadClipsForLabel:this.loadClipsForLabel}),Object(a.jsx)(m.a.Link,{href:"#stats",children:Object(a.jsx)(V.a,{icon:G.a})}),Object(a.jsx)(N,{api:this.props.api}),this.state.status.length>0?Object(a.jsx)(K.a,{variant:"secondary",children:this.state.status},0):Object(a.jsx)("br",{})]}),Object(a.jsx)(m.a.Link,{href:"https://docs.google.com/presentation/d/1O5Cn5bAdaDnauJvbXcvuSl-KqBAbwfuPzD1cqoklacA/edit?usp=sharing",target:"_blank",children:"Help"}),this.state.logged_in?Object(a.jsx)(m.a.Link,{onClick:this.handle_logout,children:Object(a.jsx)(V.a,{icon:G.i})}):Object(a.jsx)(m.a.Link,{href:"/",children:Object(a.jsx)(V.a,{icon:G.h})})]}):""})]})}}]),t}(n.Component),AA=t(266),eA=t.n(AA),tA=function(){function A(e){Object(s.a)(this,A),this.api=e}return Object(c.a)(A,[{key:"uploadFileFlow",value:function(A,e,t,a){var n=this,i=null;return this.getSignedRequest(A).then((function(e){return i=e.url,n.uploadFileToS3(A,e.data,e.url)})).then((function(A){var r={"file-url":i,lastModified:e,metadata:t,piece:a};return n.uploadFile(r)})).catch((function(A){return console.log("error: "+A)}))}},{key:"getSignedRequest",value:function(A){return this.api.apiCall("/api/sign_s3/?file_name=".concat(A.name,"&file_type=").concat(A.type))}},{key:"uploadFileToS3",value:function(A,e,t){var a=new FormData;for(var n in e.fields)a.append(n,e.fields[n]);return a.append("file",A),fetch(e.url,{method:"POST",body:a}).then((function(A){return console.log("uploaded to s3!"),A}))}},{key:"uploadFile",value:function(A){return this.api.apiCall("/api/upload/",{method:"POST",body:JSON.stringify(A),headers:{"Content-Type":"application/json"}}).then((function(A){return console.log("uploaded!"),A})).catch((function(A){return console.log("error: "+A)}))}}]),A}(),aA=function(){function A(){Object(s.a)(this,A),this.handle_logout=function(){localStorage.removeItem("token")},this.readCsrfToken=function(){for(var A="csrftoken=",e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(A))return a.substring(A.length,a.length)}return null},this.baseUrl="https://midi-practice.herokuapp.com",this.token=localStorage.getItem("token"),null!==this.token&&(this.userPromise=this.apiCall("/api/current_user/").then((function(A){return console.log("get user"),A.username.length>0?A:null})).catch((function(A){return console.log("error: "+A)}))),this.demo=!1;var e=new URLSearchParams(window.location.search);this.demoUser=e.get("user");var t=this.demoUser;this.allClips=new F(this),this.labelGetter=new W(this,"/api/labels/"),this.rawSessionFilesGetter=new W(this,"/api/rawsessionfiles/"),null!==t&&(this.demo=!0),this.clipGetter=this.allClips,this.clipsForLabel={},this.fileService=new tA(this)}return Object(c.a)(A,[{key:"getUser",value:function(){return this.demo?null:this.userPromise}},{key:"apiCall",value:function(A){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=new URL("".concat(this.baseUrl).concat(A));for(var i in this.demoUser&&n.searchParams.append("user",this.demoUser),t){var r=decodeURIComponent(t[i]);console.log(i,r),n.searchParams.append(i,r)}var o={headers:{Authorization:"JWT ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}};this.demo&&(o={});var s=eA()(e,o),c=fetch(n,s);return a?c.then((function(A){return A.json()})).then((function(A){return void 0!==A.detail&&(console.log("LOGOUT from: ".concat(n)),localStorage.removeItem("token"),window.location.reload()),A})):c}},{key:"handle_login",value:function(A){return fetch("".concat(this.baseUrl,"/token-auth/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(A)}).then((function(A){return A.json()})).then((function(A){return localStorage.setItem("token",A.token),null!==A.token&&A.user.username}))}},{key:"getStatus",value:function(){return this.apiCall("/api/status/").catch((function(A){return console.log("error: "+A)}))}},{key:"loadLabels",value:function(){return this.labelGetter.loadItems()}},{key:"resetLoadClips",value:function(){this.clipGetter=this.allClips}},{key:"loadClipsForLabel",value:function(A){A in this.clipsForLabel||(this.clipsForLabel[A]=new F(this),this.clipsForLabel[A].modelGetter.searchParams={label:A}),this.clipGetter=this.clipsForLabel[A]}},{key:"loadRawSessionFiles",value:function(A,e){return this.rawSessionFilesGetter=new W(this,"/api/rawsessionfiles/"),A&&e&&(this.rawSessionFilesGetter.searchParams={start_time:A,end_time:e}),this.rawSessionFilesGetter.loadItems()}},{key:"uploadFileFlow",value:function(A,e,t,a){return this.fileService.uploadFileFlow(A,e,t,a)}},{key:"stats",value:function(){return this.apiCall("/api/stats/").then((function(A){return A})).catch((function(A){return console.log("error: "+A)}))}},{key:"editClip",value:function(A,e){return this.apiCall("/api/midiclips/".concat(A,"/"),{method:"PATCH",headers:{"Content-Type":"application/json","X-CSRFToken":this.readCsrfToken()},body:JSON.stringify(e)}).then((function(A){console.log(A)})).catch((function(A){return console.log("error: "+A)}))}},{key:"deleteClip",value:function(A){return this.apiCall("/api/midiclips/".concat(A,"/"),{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRFToken":this.readCsrfToken()}},{},!1).then((function(A){console.log(A)})).catch((function(A){return console.log("error: "+A)}))}},{key:"relabelItem",value:function(A,e){var t="/api/label_item/".concat(A,"/").concat(e,"/");return this.apiCall(t).catch((function(A){return console.log("error: "+A)}))}},{key:"getSettings",value:function(){return this.apiCall("/api/settings/").catch((function(A){return console.log("error: "+A)}))}},{key:"setSettings",value:function(A){return this.apiCall("/api/settings/",{method:"PUT",body:JSON.stringify(A)}).catch((function(A){return console.log("error: "+A)}))}},{key:"getTempo",value:function(A){return this.apiCall("/api/tempo/".concat(A)).catch((function(A){return console.log("error: "+A)}))}}]),A}(),nA=t(274),iA=t(487),rA=t(488),oA=t(496),sA=t(64),cA=t(275),lA=t(268),uA=t(269),dA=t.n(uA),hA=t(171),pA=t.n(hA),_A=(t(475),t(163)),mA=t.n(_A);function gA(A){var e=Object(n.useRef)(null);return Object(a.jsxs)("span",{children:[Object(a.jsx)(q.a,{hidden:!0,children:Object(a.jsx)(q.a.Group,{children:Object(a.jsx)(q.a.File,{onChange:function(t){var a,n=e.current,i=n.files,r=Object(M.a)(i);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=Math.floor(o.lastModified/1e3);A.api.uploadFileFlow(o,s,{},A.piece).then((function(e){console.log(e),A.onUploaded(e.url),n.value=""}))}}catch(c){r.e(c)}finally{r.f()}},ref:e,accept:"application/pdf"})})}),Object(a.jsx)(E.a,{variant:"light",onClick:function(A){e.current.click()},children:A.title||"Upload PDF"})]})}var bA=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).onUploaded=function(A){a.setState({uploadedFile:A})},a.state={uploadedFile:null},a}return Object(c.a)(t,[{key:"render",value:function(){var A=this.state.uploadedFile||this.props.file;return Object(a.jsxs)(a.Fragment,{children:[A?Object(a.jsx)("iframe",{title:"Sheet music",src:"https://docs.google.com/viewerng/viewer?embedded=true&url=".concat(A),width:"100%",height:"900px"}):"",Object(a.jsx)("p",{children:Object(a.jsx)(gA,{onUploaded:this.onUploaded,title:"Replace PDF",api:this.props.api,piece:this.props.piece})})]})}}]),t}(i.a.Component),jA=(t(476),function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).handleKeyPress=function(A){console.log(A),"f"===A.key&&a.setState({available:!0})},a.initMidi=function(){var A=Object(l.a)(a);pA.a.enable((function(e){e?console.log("WebMidi could not be enabled.",e):(console.log("WebMidi enabled!"),A.registerMidiDevices())}))},a.registerMidiDevices=function(){var A=Object(l.a)(a),e=new(window.AudioContext||window.webkitAudioContext);dA.a.instrument(e,"acoustic_grand_piano").then((function(t){for(var a in pA.a.inputs){A.setState({available:!0});var n=pA.a.inputs[a];n.addListener("noteon","all",(function(e){if(A.recordNoteOn(A.epochTime(),e.note.number,e.rawVelocity),A.state.shouldPlay){var a=A.state.playingNotes;a[e.note.number]=t.play(e.note.number),A.setState({playingNotes:a})}})),n.addListener("noteoff","all",(function(t){if(A.recordNoteOff(A.epochTime(),t.note.number),A.state.shouldPlay){var a=A.state.playingNotes,n=a[t.note.number];if(A.state.sustain){var i=A.state.sustainedNotes;i.push(n),A.setState({sustainedNotes:i})}else n.stop(e.currentTime);delete a[t.note.number],A.setState({playingNotes:a})}})),n.addListener("controlchange","all",(function(t){if(A.recordCC(A.epochTime(),t.controller.number,t.value),64===t.controller.number){var a=t.value>64;if(A.setState({sustain:a}),!a){var n,i=Object(M.a)(A.state.sustainedNotes);try{for(i.s();!(n=i.n()).done;){n.value.stop(e.currentTime)}}catch(r){i.e(r)}finally{i.f()}A.setState({sustainedNotes:[]})}}}))}}))},a.startRecordTimeoutTimer=function(){a.recordTimer=setTimeout((function(){console.log("timer hit!"),a.stopRecord(),a.startRecord()}),9e5)},a.startRecordDurationTimer=function(){a.recordingDurationTimer=setInterval((function(){var A=Object(P.b)(Math.floor(a.epochTime()-a.state.startTime));a.setState({message:"Recording ".concat(A),recordDuration:A})}),1e3)},a.endRecordDurationTimer=function(){null!==a.recordingDurationTimer&&(clearTimeout(a.recordingDurationTimer),a.recordingDurationTimer=null)},a.refreshTimer=function(){a.endRecordTimeoutTimer(),a.startRecordTimeoutTimer()},a.endRecordTimeoutTimer=function(){null!==a.recordTimer&&(clearTimeout(a.recordTimer),a.recordTimer=null)},a.recordNoteOn=function(A,e,t){var n={noteOn:{noteNumber:e,velocity:t}},i=new Set(a.state.activeNotes);i.add(e),a.setState({velocity:t,activeNotes:i,noteRecorded:!0}),a.recordEvent(A,n)},a.recordNoteOff=function(A,e){var t={noteOff:{noteNumber:e}},n=new Set(a.state.activeNotes);n.delete(e),a.setState({velocity:0,activeNotes:n}),a.recordEvent(A,t)},a.recordCC=function(A,e,t){var n={controlChange:{type:e,value:t}};a.recordEvent(A,n)},a.recordEvent=function(A,e){a.refreshTimer();var t=A-a.lastTime;a.lastTime=A;var n=Object(C.a)({channel:0,delta:a.sec2ticks(t)},e);null!==a.track&&a.track.push(n)},a.startRecord=function(){a.state.noSleep.enable(),a.lastTime=a.epochTime(),a.track=[{delta:0,trackName:"scale"}],a.setState({recording:!0,noteRecorded:!1,startTime:a.epochTime(),metadata:[{time:0,value:"None"}]}),a.startRecordTimeoutTimer(),a.startRecordDurationTimer()},a.stopRecord=function(){a.endRecordDurationTimer(),a.endRecordTimeoutTimer();var A="Uploading recording of duration ".concat(a.state.recordDuration,"...");if(a.setState({recording:!1,message:A}),a.track.push({delta:0,endOfTrack:!0}),a.state.noSleep.disable(),!0===a.state.noteRecorded){var e=a.newMidiTrack();e.tracks.push(a.track),console.log(e),Object(cA.a)(e).then((function(A){var e=new Blob([A],{type:"audio/midi"}),t=Math.floor((new Date).valueOf()/1e3),n="".concat(t.toString(),".mid"),i=new File([e],n);a.props.api.uploadFileFlow(i,t,a.state.metadata,"").then((function(){console.log("recorded file uploaded!"),a.setState({message:"\u2705 Recording Uploaded!"})}))}))}a.track=null},a.epochTime=function(){return(new Date).valueOf()/1e3},a.sec2ticks=function(A){return 8*A*240*2/4},a.metadataButtonClicked=function(A){a.updateMetadata(A.target.value)},a.updateMetadata=function(A){var e=a.state.metadata;e.push({time:(a.epochTime()-a.state.startTime).toFixed(2),value:A}),console.log(e),a.setState({metadata:e});var t,n=null,i=Object(M.a)(a.state.labels);try{for(i.s();!(t=i.n()).done;){var r=t.value;r.name===A&&(n=r.sheet_music_url)}}catch(o){i.e(o)}finally{i.f()}console.log(n),a.setState({pdf_url:n,can_upload_pdf:!a.labelOptions.includes(A)})},a.state={available:!1,recording:!1,velocity:0,activeNotes:new Set,startTime:null,noteRecorded:!1,shouldPlay:!1,message:null,recordDuration:null,noSleep:new mA.a,playingNotes:{},sustain:!1,sustainedNotes:[],metadata:[],labels:[],pdf_url:null,can_upload_pdf:null},a.track=null,a.recordTimer=null,a.recordingDurationTimer=null,a.labelOptions=["None","Sight Reading","Technical"],a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var A=this;document.addEventListener("keydown",this.handleKeyPress,!1),this.initMidi(),this.props.api.loadLabels().then((function(e){A.setState({labels:e})}))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!1)}},{key:"render",value:function(){var A=this,e=Object(nA.a)(this.state.activeNotes);return Object(a.jsx)("span",{className:"recorder",children:Object(a.jsxs)(f.a,{children:[null!==this.state.message?Object(a.jsx)(K.a,{variant:"info",children:Object(a.jsx)("h5",{children:this.state.message})},"0"):"",this.state.available?Object(a.jsxs)("p",{children:[this.state.recording?Object(a.jsxs)("span",{children:[Object(a.jsx)("p",{children:Object(a.jsx)(E.a,{variant:"danger",onClick:this.stopRecord,children:"Stop"})}),Object(a.jsx)("p",{className:"recorder-card",children:Object(a.jsx)(lA.a,{activeNotes:e,noteRange:{first:45,last:88},playNote:function(A){},stopNote:function(A){}})}),Object(a.jsx)("p",{children:Object(a.jsx)(iA.a,{toggle:!0,className:"mb-2",children:Object(a.jsx)(rA.a,{type:"checkbox",variant:"secondary",checked:this.state.shouldPlay,onChange:function(){A.setState({shouldPlay:!A.state.shouldPlay})},children:"Play Sound"})})}),Object(a.jsxs)("p",{children:["Add Label:",Object(a.jsx)("br",{}),Object(a.jsxs)(iA.a,{toggle:!0,children:[this.labelOptions.map((function(e,t){return Object(a.jsx)(E.a,{value:e,onClick:A.metadataButtonClicked,children:e})})),this.state.labels.length>0?Object(a.jsx)(oA.a,{title:"Pieces",onSelect:this.updateMetadata,children:this.state.labels.map((function(A,e){return Object(a.jsx)(sA.a.Item,{eventKey:A.name,children:A.name})}))}):""]})]}),Object(a.jsxs)("p",{children:["Current Label: ",this.state.metadata[this.state.metadata.length-1].value]}),this.state.can_upload_pdf?Object(a.jsx)(bA,{file:this.state.pdf_url,piece:this.state.metadata[this.state.metadata.length-1].value,api:this.props.api}):""]}):Object(a.jsx)(E.a,{variant:"success",onClick:this.startRecord,children:"Record"})," "]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(K.a,{variant:"primary",children:[Object(a.jsx)("p",{children:"No compatible MIDI devices found"}),Object(a.jsx)("p",{children:"Connect your MIDI controller, use Chrome and refresh!"}),"This doesn't work on an iPad so please use a computer or Android device"]},"0"),Object(a.jsx)(E.a,{variant:"primary",onClick:this.registerMidiDevices,children:Object(a.jsx)(V.a,{icon:G.g})})]})]})})}},{key:"newMidiTrack",value:function(){return{division:480,format:1,tracks:[[{delta:0,trackName:"scale"},{delta:0,setTempo:{microsecondsPerQuarter:5e5}},{delta:0,timeSignature:{denominator:4,metronome:24,numerator:4,thirtyseconds:8}},{delta:0,endOfTrack:!0}]]}}}]),t}(i.a.Component)),OA=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).midiPlayerAutoplayOnSourceChange=function(){var A=a.midiPlayerRef.current;A.addEventListener("load",(function(){!1===A.playing&&A.start(),a.setState((function(A,e){return{status:a.getLabel(a.props.playingItem)}}))})),A.addEventListener("start",(function(){a.state.noSleep.enable()})),A.addEventListener("stop",(function(){a.state.noSleep.disable()}))},a.state={title:"",status:"",noSleep:new mA.a},a.midiPlayerRef=i.a.createRef(),a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){this.midiPlayerAutoplayOnSourceChange()}},{key:"componentDidUpdate",value:function(){var A=this.midiPlayerRef.current;null!==this.props.playingItem&&A.src!==this.props.playingItem.url&&(this.midiPlayerRef.current.src=this.props.playingItem.url,console.log(this.getLabel(this.props.playingItem)),this.setState({status:"Loading..."}))}},{key:"getLabel",value:function(A){return null!==A.label?A.label.name:!0===A.sight_reading?"Sight Reading":!0===A.technical?"Technical":""}},{key:"render",value:function(){return Object(a.jsxs)("span",{children:[Object(a.jsx)("midi-player",{id:"midi-player","sound-font":"https://storage.googleapis.com/magentadata/js/soundfonts/sgm_plus",ref:this.midiPlayerRef}),Object(a.jsx)("span",{className:"status",centered:!0,children:this.state.status})]})}}]),t}(i.a.Component),fA=t(501),EA=t(497),CA=t(480),vA=t(123),BA=t(124),IA=t(126),xA=t(131),kA=t(276),yA=t(270),DA=t.n(yA),MA=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).changeTimeframe=function(A,e){var t=a.state.data;a.setState({key:A,stats:t[A]})},a.datePrettify=function(A){var e=DA()(A);return"".concat(e.value," ").concat(e.lang," ").concat(e.misc)},a.state={stats:null},a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){var A=this;this.props.api.stats().then((function(e){console.log(e),A.setState({data:e.response,key:"all",stats:e.response.all})}))}},{key:"format",value:function(A,e,t){return P.b(A)}},{key:"render",value:function(){var A=this,e=[],t=[];if(this.state.stats){var n,r=Object(M.a)(this.state.stats.labels);try{for(r.s();!(n=r.n()).done;){var o=n.value;e.push({name:o.label,value:o.duration})}}catch(s){r.e(s)}finally{r.f()}t=this.state.data.last_played}return e.sort((function(A,e){return e.value-A.value})),t.sort((function(A,e){return e.date>A.date})),console.log(t),Object(a.jsx)(i.a.Fragment,{children:this.state.stats?Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsx)("p",{children:"Total time practiced: ".concat(P.b(this.state.data.all.duration))}),Object(a.jsx)("p",{children:"Last 24h: ".concat(P.b(this.state.data.day.duration))}),Object(a.jsx)("p",{children:"Last week: ".concat(P.b(this.state.data.week.duration))}),Object(a.jsx)("p",{children:"Last month: ".concat(P.b(this.state.data.month.duration))})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(sA.a,{onSelect:this.changeTimeframe,children:[Object(a.jsx)(sA.a.Toggle,{variant:"info",id:"dropdown-basic",children:this.state.key}),Object(a.jsxs)(sA.a.Menu,{children:[Object(a.jsx)(sA.a.Item,{eventKey:"all",children:"All"}),Object(a.jsx)(sA.a.Item,{eventKey:"day",children:"Last 24h"}),Object(a.jsx)(sA.a.Item,{eventKey:"week",children:"Last week"}),Object(a.jsx)(sA.a.Item,{eventKey:"month",children:"Last month"})]})]}),Object(a.jsx)(fA.a,{height:400,children:Object(a.jsxs)(EA.a,{data:e,barCategoryGap:1,barSize:30,children:[Object(a.jsx)(CA.a,{strokeDasharray:"3 3"}),Object(a.jsx)(vA.a,{dataKey:"name"}),Object(a.jsx)(BA.a,{tickFormatter:this.format}),Object(a.jsx)(IA.a,{}),Object(a.jsx)(xA.a,{formatter:this.format}),Object(a.jsx)(kA.a,{dataKey:"value",fill:"#8884d8"})]})})]}),Object(a.jsx)(f.a,{children:t.map((function(e,t){return Object(a.jsxs)("p",{children:[e.name," - ",A.datePrettify(e.date)]})}))})]}):"Loading..."})}}]),t}(i.a.Component);function wA(A){var e;void 0!==document.hidden?e={hidden:"hidden",visibilitychange:"visibilitychange"}:void 0!==document.webkitHidden?e={hidden:"webkitHidden",visibilitychange:"webkitvisibilitychange"}:void 0!==document.mozHidden?e={hidden:"mozHidden",visibilitychange:"mozvisibilitychange"}:void 0!==document.msHidden&&(e={hidden:"msHidden",visibilitychange:"msvisibilitychange"});var t,a=navigator.userAgent.toLowerCase(),n=a.indexOf("iphone")>=0&&a.indexOf("like iphone")<0||a.indexOf("ipad")>=0&&a.indexOf("like ipad")<0||a.indexOf("ipod")>=0&&a.indexOf("like ipod")<0,i=!0,r=!0,o=!0,s=!1,c=["click","contextmenu","auxclick","dblclick","mousedown","mouseup","touchend","keydown","keyup"],l=!1,u=!1,d=!1;function h(e){"running"===A.state?(p(!1),s&&A.suspend().then(_,_)):"closed"!==A.state&&(s?p(!1):(p(!0),e&&A.resume().then(_,_)))}function p(A){if(l!==A){l=A;for(var e=0,t=c;e<t.length;e++){var a=t[e];A?window.addEventListener(a,m,{capture:!0,passive:!0}):window.removeEventListener(a,m,{capture:!0,passive:!0})}}}function _(){h(!1)}function m(){h(!0)}function g(A){if(!d)if(t.paused)if(s)b(!1);else if(A){b(!1),d=!0;var e=void 0;try{(e=t.play())?e.then(j,j):(t.addEventListener("playing",j),t.addEventListener("abort",j),t.addEventListener("error",j))}catch(a){j()}}else b(!0);else b(!1),s&&t.pause()}function b(A){if(u!==A){u=A;for(var e=0,t=c;e<t.length;e++){var a=t[e];A?window.addEventListener(a,O,{capture:!0,passive:!0}):window.removeEventListener(a,O,{capture:!0,passive:!0})}}}function j(){t.removeEventListener("playing",j),t.removeEventListener("abort",j),t.removeEventListener("error",j),d=!1,g(!1)}function O(){g(!0)}function f(){r&&o?i||(i=!0,s=!1,t&&g(!0),h(!0)):i&&(i=!1,s=!0,h(!0),t&&g(!0))}function E(){e&&document[e.hidden]===i&&(r=!document[e.hidden],f())}function C(A){if(!A||A.target===window)if(document.hasFocus()){if(o)return;o=!0,f()}else{if(!o)return;o=!1,f()}}function v(A,e){var t;for(t=e;A>1;A--)t+=e;return t}if(n){var B=document.createElement("div");B.innerHTML="<audio x-webkit-airplay='deny'></audio>",(t=B.children.item(0)).controls=!1,t.disableRemotePlayback=!0,t.preload="auto",t.src="data:audio/mpeg;base64,//uQx"+v(23,"A")+"WGluZwAAAA8AAAACAAACcQCA"+v(16,"gICA")+v(66,"/")+"8AAABhTEFNRTMuMTAwA8MAAAAAAAAAABQgJAUHQQAB9AAAAnGMHkkI"+v(320,"A")+"//sQxAADgnABGiAAQBCqgCRMAAgEAH"+v(15,"/")+"7+n/9FTuQsQH//////2NG0jWUGlio5gLQTOtIoeR2WX////X4s9Atb/JRVCbBUpeRUq"+v(18,"/")+"9RUi0f2jn/+xDECgPCjAEQAABN4AAANIAAAAQVTEFNRTMuMTAw"+v(97,"V")+"Q==",t.loop=!0,t.load(),g(!0)}A.onstatechange=function(){h(!0)},h(!1),e&&document.addEventListener(e.visibilitychange,E,!0),n&&(window.addEventListener("focus",C,!0),window.addEventListener("blur",C,!0)),E(),C()}var TA=function(A){Object(u.a)(t,A);var e=Object(d.a)(t);function t(A){var a;return Object(s.a)(this,t),(a=e.call(this,A)).onPlay=function(A){a.setState({playingItem:A})},a.onRelabel=function(A,e){console.log(A,e)},a.setStatus=function(A){a.setState({status:A})},a.state={displayed_form:"",logged_in:!!localStorage.getItem("token"),username:"",api:new aA,playingItem:null,status:""},a.onPlay=a.onPlay.bind(Object(l.a)(a)),a}return Object(c.a)(t,[{key:"componentDidMount",value:function(){for(var A=0,e=["https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,gh/e7mac/js-dist@1.0.0/core.js,npm/focus-visible@5,gh/e7mac/js-dist@1.0.0/midi-player.min.js"];A<e.length;A++){var t=e[A],a=document.createElement("script");a.src=t,a.async=!0,document.body.appendChild(a)}document.title="Daily Clef";var n=window.AudioContext||window.webkitAudioContext?new(window.AudioContext||window.webkitAudioContext):null;n&&wA(n)}},{key:"render",value:function(){return Object(a.jsx)(x.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)($,{api:this.state.api}),Object(a.jsx)(h.a,{className:"container-infinite-scroll",children:this.state.logged_in||this.state.api.demo?Object(a.jsxs)(g.c,{children:[Object(a.jsx)(g.a,{path:"/record",children:Object(a.jsx)(jA,{api:this.state.api})}),Object(a.jsx)(g.a,{path:"/stats",children:Object(a.jsx)(MA,{api:this.state.api})}),Object(a.jsx)(g.a,{path:"/",children:Object(a.jsx)(i.a.Fragment,{children:Object(a.jsx)(Z,{onPlay:this.onPlay,api:this.state.api,playingItem:this.state.playingItem})})})]}):Object(a.jsxs)(g.c,{children:[Object(a.jsx)(g.a,{path:"/signup",children:Object(a.jsx)(B,{api:this.state.api})}),Object(a.jsx)(g.a,{path:"/",children:Object(a.jsx)(I,{api:this.state.api})})]})}),Object(a.jsx)(p.a,{in:this.state.playingItem,children:Object(a.jsxs)(_.a,{bg:"dark",className:"panel-body",fixed:"bottom",children:[Object(a.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(a.jsx)(m.a,{className:"mr-auto",children:Object(a.jsx)(OA,{playingItem:this.state.playingItem})})})]})})]})})}}]),t}(n.Component),SA=Object(g.f)(TA);o.a.render(Object(a.jsx)(x.a,{children:Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(SA,{})})}),document.getElementById("root"))}},[[477,1,2]]]);
//# sourceMappingURL=main.624c1991.chunk.js.map